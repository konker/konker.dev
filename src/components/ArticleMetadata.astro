---
import { Calendar, User } from 'lucide-astro';
import TagBar from './TagBar.astro';
import { toDisplayDate, toReadableDate } from '../lib';
export type Props = {
  readonly title: string;
  readonly pubDate: Date;
  readonly tags: Array<string>;
  readonly author?: string;
}

const { pubDate, author, tags  } = Astro.props
const displayPubDate = toDisplayDate(pubDate);
const readablePubDate = toReadableDate(pubDate);
---
<div class="metadata-wrapper mb-0 text-left">
  <div class="metadata flex flex-col justify-start md:flex-row">
    <span class="pubDate flex min-w-fit font-sans pr-8" title={readablePubDate}>
      <span class="separator inline-block px-0 mr-2"><Calendar size="24"/></span>
      {displayPubDate}
    </span>
    {author ? <span class="author flex min-w-fit font-sans">
      <span class="separator inline-block px-0 mr-2"><User size="24"/></span>
      <a href="/about" class="text-blue-800 visited:text-blue-800">{author}</a>
    </span> : undefined}
  </div>
  <TagBar tags={tags} />
</div>

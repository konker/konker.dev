---
import type { MarkdownInstance } from 'astro';
import type { CollectionEntry } from 'astro:content';
import type { MoonlightCollection } from '../../lib/moonlight/config';
import { ANCHOR_TOP } from '../../scripts/consts';
import PrevNextNavigation from '../site/PrevNextNavigation.astro';

interface Props {
  readonly Content: MarkdownInstance<object>['Content']; // AstroComponentFactory;
  readonly prevEntry: CollectionEntry<MoonlightCollection> | undefined;
  readonly nextEntry: CollectionEntry<MoonlightCollection> | undefined;
}

const { Content, prevEntry, nextEntry } = Astro.props;
const prev = prevEntry ? { url: prevEntry.slug, title: prevEntry.data.title } : undefined;
const next = nextEntry ? { url: nextEntry.slug, title: nextEntry.data.title } : undefined;
---

<div
  id="page-content-wrapper"
  class="md:max-h-[calc(100vh-var(--kdd-footer-height))] w-full md:w-3/5 lg:w-8/12 flex-1 md:overflow-y-scroll mt-0 mb-12"
>
  <a id={ANCHOR_TOP}></a>
  <div id="page-content" class="content pr-6 ml-6 md:ml-auto md:mr-auto">
    <Content />
    <hr />
    <PrevNextNavigation prev={prev} next={next} />
  </div>
</div>

---
import type { MoonlightProjectNavigationItem } from '../../lib/moonlight';
import type { DepthGroupT } from '../../lib/moonlight/navigation';
import ContentLink from './ContentLink.astro';
import ContentLinkList from './ContentLinkList.astro';

interface Props {
  readonly list: DepthGroupT<MoonlightProjectNavigationItem>;
  readonly selectedUrlPathSlug: string;
}

const { list, selectedUrlPathSlug } = Astro.props;
---

{
  list.map((x) =>
    Array.isArray(x) ? (
      <ul>
        <ContentLinkList list={x} selectedUrlPathSlug={selectedUrlPathSlug} />
      </ul>
    ) : (
      <li>
        <ContentLink item={x} selectedUrlPathSlug={selectedUrlPathSlug} />
      </li>
    )
  )
}
